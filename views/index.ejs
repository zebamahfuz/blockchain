<%- include partials/header.ejs %>
<style>
  /* events css */
  @import url('https://fonts.googleapis.com/css?family=Oswald');
  * {
      margin: 0;
      padding: 0;
      border: 0;
      box-sizing: border-box
  }
  
  .fl-left {
      float: left
  }
  
  .fl-right {
      float: right
  }
  
  h1 {
      text-transform: uppercase;
      font-weight: 900;
      border-left: 10px solid #fec500;
      padding-left: 10px;
      margin-bottom: 30px
  }
  
  .row {
      overflow: hidden
  }
  
  .card {
      display: table-row;
      width: 49%;
      background-color: #fff;
      color: #989898;
      margin-bottom: 35px;
      font-family: 'Oswald', sans-serif;
      text-transform: uppercase;
      border-radius: 4px;
      position: relative;
      padding:9px; 
  }
  
  .card+.card {
      margin-left: 2%
  }
  
  .date {
      display: table-cell;
      width: 25%;
      position: relative;
      text-align: center;
      border-right: 2px dashed #60040e
  }
  
  .date:before,
  .date:after {
      content: "";
      display: block;
      width: 30px;
      height: 30px;
      background-color: #60040e;
      position: absolute;
      top: -15px;
      right: -15px;
      z-index: 1;
      border-radius: 50%
  }
  
  .date:after {
      top: auto;
      bottom: -15px
  }
  
  .date time {
      display: block;
      position: absolute;
      top: 50%;
      left: 50%;
      -webkit-transform: translate(-50%, -50%);
      -ms-transform: translate(-50%, -50%);
      transform: translate(-50%, -50%)
  }
  
  .date time span {
      display: block
  }
  
  .date time span:first-child {
      color: #2b2b2b;
      font-weight: 600;
      font-size: 250%
  }
  
  .date time span:last-child {
      text-transform: uppercase;
      font-weight: 600;
      margin-top: -10px
  }
  
  .card-cont {
      display: table-cell;
      width: 75%;
      font-size: 85%;
      padding: 10px 10px 30px 50px
  }
  
  .card-cont h3 {
      color: #3C3C3C;
      font-size: 130%
  }
  
  .card-cont>div {
      display: table-row
  }
  
  .card-cont .even-date i,
  .card-cont .even-info i,
  .card-cont .even-date time,
  .card-cont .even-info p {
      display: table-cell
  }
  
  .card-cont .even-date i,
  .card-cont .even-info i {
      padding: 5% 5% 0 0
  }
  
  .card-cont .even-info p {
      padding: 30px 50px 0 0
  }
  
  .card-cont .even-date time span {
      display: block
  }
  
  .card-cont a {
      display: block;
      text-decoration: none;
      width: 80px;
      height: 30px;
      background-color:#60040e;
      color: #fff;
      text-align: center;
      line-height: 30px;
      border-radius: 2px;
      position: absolute;
      right: 10px;
      bottom: 10px
  }
  
  
  @media screen and (max-width: 860px) {
      .card {
          display: block;
          float: none;
          width: 100%;
          margin-bottom: 10px
      }
      .card+.card {
          margin-left: 0
      }
      .card-cont .even-date,
      .card-cont .even-info {
          font-size: 75%
      }
  }

  .btn-success {
    color: #fff !important;
    background-color: #5f050e;
    border-color: #5f050e;
    }
</style>
<!-- slider starts-->
<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
  <ol class="carousel-indicators">
    <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
    <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
  </ol>
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img class="d-block w-100 h" src="../images/4.jpg" alt="First slide">
      <div class="carousel-caption d-none d-md-block">
        <h3><i>Merry & Bright: Where Every Event Sparkles with Christmas Cheer!!</i></h3>
        
      </div>
    </div>
    <div class="carousel-item">
      <img class="d-block w-100 h " src="../images/1.jpg" alt="Second slide" >
      <div class="carousel-caption d-none d-md-block">
       <h3><i>Seize the Day, Seize the Night: Your Eventful Journey Starts Here.</i></h3>
        
      </div>
    </div>
   </div>
  <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>
<!-- slider ends -->
<!--  services starts -->
<div class ="b">
<section class="container pt-3 mb-3 ">
  <h1 style ="color:#60040e;">Our Services</h1>
  <div class="row pt-5 mt-30">
      <div class="col-lg-4 col-sm-6 mb-30 pb-5">
          <div class="cards">
              <div class="box-shadow bg-white rounded-circle mx-auto text-center" style="width: 90px; height: 90px; margin-top: -45px;"><i class="fa fa-music fa-3x head-icon"></i></div>
              <div class="cards-body text-center">
                  <h3 class="cards-title pt-1">Live Music</h3>
                  <p class="cards-text text-sm">Immerse yourself in the rhythm of unforgettable nights. From electrifying concerts to soulful performances, our platform is your ticket to live music experiences that resonate with your soul</p>
              </div>
            </div>
      </div>
      <div class="col-lg-4 col-sm-6 mb-30 pb-5">
        <div class="cards">
              <div class="box-shadow bg-white rounded-circle mx-auto text-center" style="width: 90px; height: 90px; margin-top: -45px;"><i class="fa fa-moon-o fa-3x head-icon"></i></div>
              <div class="cards-body text-center">
                  <h3 class="cards-title pt-1">Nightlife and Entertainment</h3>
                  <p class="cards-text text-sm">Dive into the city's heartbeat. Explore curated nightlife experiences, from pulsating club nights to exclusive events, making every night an adventure worth remembering.</p>
              </div>
            </div>
      </div>
      <div class="col-lg-4 col-sm-6 mb-30 pb-5">
        <div class="cards">
              <div class="box-shadow bg-white rounded-circle mx-auto text-center" style="width: 90px; height: 90px; margin-top: -45px;"><i class="fa fa-microphone fa-3x head-icon"></i></div>
              <div class="cards-body text-center">
                  <h3 class="cards-title pt-1"> Concert and Music Festival </h3>
                  <p class="cards-text text-sm">Get ready to be swept away by the magic of live performances. Dive into a world of electrifying concerts and music festivals where every beat is a celebration of sound.</p>
              </div>
            </div>
      </div>
      <br>
      <div class="col-lg-4 col-sm-6 mb-30 pb-5">
        <div class="cards">
              <div class="box-shadow bg-white rounded-circle mx-auto text-center" style="width: 90px; height: 90px; margin-top: -45px;"><i class="fa fa-cutlery fa-3x head-icon"></i></div>
              <div class="cards-body text-center">
                  <h3 class="cards-title pt-1">Food and Culinary</h3>
                  <p class="cards-text text-sm">Savor the extraordinary. Indulge in culinary wonders, from food festivals to intimate dining affairs. Discover a world where taste takes center stage and every bite tells a delicious story. Connect with local chefs, tastemakers, and gastronomic delights.
                  </p>
              </div>
            </div>
      </div>
      <div class="col-lg-4 col-sm-6 mb-30 pb-5">
        <div class="cards">
              <div class="box-shadow bg-white rounded-circle mx-auto text-center" style="width: 90px; height: 90px; margin-top: -45px;"><i class="fa fa-video-camera fa-3x head-icon"></i></div>
              <div class="cards-body text-center">
                  <h3 class="cards-title pt-1">Live Streaming and Virtual Experiences</h3>
                  <p class="cards-text text-sm">Experience the extraordinary from the comfort of your own space. Join us in the digital realm for live streaming and virtual experiences, bringing the excitement of events directly to you. </p>
              </div>
            </div>
      </div>
      <div class="col-lg-4 col-sm-6 mb-30 pb-5">
          <div class="cards">
              <div class="box-shadow bg-white rounded-circle mx-auto text-center" style="width: 90px; height: 90px; margin-top: -45px;"><i class="fa fa-camera-retro fa-3x head-icon"></i></div>
              <div class="cards-body text-center">
                  <h3 class="cards-title pt-1">City Tour</h3>
                  <p class="cards-text text-sm">Embark on a journey of discovery through our curated city tours. Uncover the hidden gems, vibrant culture, and pulsating energy that make each city unique, creating memories that resonate with the rhythm of urban life.</p>
              </div>
            </div>
      </div>
  </div>
</section>
</div>
<!-- servcies ends-->

<!--upcoming events-->
<div class ="b1">
<section class="container">
  <h1 style ="color:#fff;">Upcoming Events</h1>
    <div class="row">
      <article class="card fl-left">
        <section class="date">
          <time datetime="23th feb">
            <span>24</span><span>DEC</span>
          </time>
        </section>
        <section class="card-cont">
          <small>dj khaled</small>
          <h3>live in sydney</h3>
          <div class="even-date">
           <i class="fa fa-calendar"></i>
           <time>
             <span> &nbsp; wednesday 24 december 2023</span>
             <span>08:55pm to 12:00 am</span>
           </time>
          </div>
          <div class="even-info">
            <i class="fa fa-map-marker"></i>
            <p>
              nexen square for people australia, sydney
            </p>
          </div>
          <a href="#" data-toggle="modal" data-target="#myModal">Book tickets</a>
        </section>
      </article>
      <article class="card fl-left">
        <section class="date">
          <time datetime="23th feb">
            <span>25</span><span>Dec</span>
          </time>
        </section>
        <section class="card-cont">
          <small>dj khaled</small>
          <h3>corner obsest program</h3>
          <div class="even-date">
           <i class="fa fa-calendar"></i>
           <time>
             <span>&nbsp; wednesday 25 december 2023</span>
             <span>08:55pm to 12:00 am</span>
           </time>
          </div>
          <div class="even-info">
            <i class="fa fa-map-marker"></i>
            <p>
              nexen square for people australia, sydney
            </p>
          </div>
          <a href="#" data-toggle="modal" data-target="#myModal">Book tickets</a>
        </section>
      </article>
    </div>
    <div class="row">
      <article class="card fl-left">
        <section class="date">
          <time datetime="23th feb">
            <span>27</span><span>DEC</span>
          </time>
        </section>
        <section class="card-cont">
          <small>dj khaled</small>
          <h3>music kaboom festival</h3>
          <div class="even-date">
           <i class="fa fa-calendar"></i>
           <time>
             <span> &nbsp;wednesday 27 december 2023</span>
             <span>08:55pm to 12:00 am</span>
           </time>
          </div>
          <div class="even-info">
            <i class="fa fa-map-marker"></i>
            <p>
              nexen square for people australia, sydney
            </p>
          </div>
          <a href="#" data-toggle="modal" data-target="#myModal">Book tickets</a>
        </section>
      </article>
      <article class="card fl-left">
        <section class="date">
          <time datetime="23th feb">
            <span>28</span><span>DEC</span>
          </time>
        </section>
        <section class="card-cont">
          <small>dj khaled</small>
          <h3>hello dubai festival</h3>
          <div class="even-date">
           <i class="fa fa-calendar"></i>
           <time>
             <span> &nbsp;wednesday 28 december 2023</span>
             <span>08:55pm to 12:00 am</span>
           </time>
          </div>
          <div class="even-info">
            <i class="fa fa-map-marker"></i>
            <p>
              nexen square for people australia, sydney
            </p>
          </div>
          <a href="#" data-toggle="modal" data-target="#myModal">Book tickets</a>
        </section>
      </article>
    </div>
  </section>
  </div>
<!-- events end here-->
<!-- testimonial starts here-->
<div class ="b">
<section class="container">
<h1 style ="color:#60040e;">Testimonials</h1>
<div class="slideshow-container cards">

  <div class="mySlides">
    <q>I wanted to say the biggest thank you to you all for everything you have done to make yesterday’s event so successful.</q>
    <p class="author" style ="color:#60040e;">- Michelle Herron </p>
  </div>
  
  <div class="mySlides">
    <q>The concert I attended through this platform was an absolute game-changer. Seamless ticketing, an incredible lineup, and an unforgettable night. This is now my go-to for all music events!</q>
    <p class="author" style ="color:#60040e;">- Anna M.</p>
  </div>
  
  <div class="mySlides">
    <q>As a food lover, I've discovered the most amazing culinary events here. From food festivals to exclusive dining experiences, this platform has become my gastronomic guide. Truly a foodie's paradise!</q>
    <p class="author" style ="color:#60040e;">- Thomas Anderson </p>
  </div>
  
  <a class="prev" onclick="plusSlides(-1)">❮</a>
  <a class="next" onclick="plusSlides(1)">❯</a>
  
  </div>
</section>
</div>
<!-- testimonial ends here-->
<!--modal starts here-->


<div class="container">
  <!-- Modal -->
  <div  id="myModal" role="dialog" class="modal hide fade in">
    <div class="modal-dialog modal-lg">
    
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title">Event Registration Form</h4>
        </div>
        <div class="modal-body">
          <!-- form starts here-->
          <!-- user details -->
          <% if(name) { %>
            <div class="container">
              <div class="card">
                
                <div class="card-body">
                  <h5 class="card-header">Hi <%= name %> thanks for sharing details! </h5>
                  <h5 class="card-header">Please connect your Metamask wallet to complete the payment</h5> 
                  <br>
                  <div class="container">
                  <div id="readArea" > <!-- READING FROM CONTRACT -->
                    <button class="btn btn-indigo" onclick="connectMetamask()">CONNECT TO METAMASK</button>
                    <p id="userArea">Status: Not connected to Metamask</p>
                    <!-- index html to meta-->
               
                    <button class="btn btn-connect2" onclick="connectContract()">CONNECT TO CONTRACT</button>
                    <p id="contractArea">Status: Not connected to Contract</p>
                    <!-- meta to SC -->
               
                    <button class="btn btn-indigo2" onclick="getContractAccount()"> GET CONTRACT ACCOUNT </button>
                    <p id="contractAccount">Contract Account: Not Connected to Contract</p>
                    <!-- CAlling the function designed in Transactions.sol get deployment addresss -->
               
                    <button class="btn btn-connect" onclick="getBalanceApple()">GET BALANCE OF THE CONTRACT</button>
                    <p id="balanceArea">Balance: Not Connected to Contract</p>
                    <!-- CAlling the function designed in Transactions.sol get balance -->
               
               
                </div>
               
                <div id="writeArea"><!-- WRITING TO CONTRACT -->
                    <button class="btn btn-connect3" onclick="depositContract()">Send ether to the Contract</button><br>
                    <input type="number" id="depositInput" placeholder="Enter Amount"><br> <br>
                    <!-- Deposit to contract calling on deposit function -->
               
                    
                    <!-- calling the withdraw function -->
                </div>
                </div>
                </div>
              </div>
          </div>
          <% } %> 
          <!-- user details ends here-->
          <form id="eventBookingForm" action="/" method="post">
            <div class="form-row">
              <div class="form-group col-md-6">
                <label for="inputfname">First Name</label>
                <input type="text" class="form-control" id="fname" placeholder="First Name" name="name" required>
              </div>
              <div class="form-group col-md-6">
                <label for="inputlname">Last Name</label>
                <input type="text" class="form-control" id="lname" placeholder="Last Name" name= "lname" required>
              </div>
            </div>
            <div class="form-group">
              <label for="inputEmail4">Email</label>
      <input type="email" class="form-control" id="inputEmail4" placeholder="Email" required>
            </div>
            <div class="form-group">
              <label for="phone">Phone number</label>
              <input type="tel" id="phone"  class="form-control" name="phone" placeholder="Phone Number">
            
            </div>
            <div class="form-row">
              <div class="form-group col-md-6">
                <label for="DOE">Date of Event</label>
                <input type="date"  class="form-control" id="inputdate">
              </div>
              <div class="form-group col-md-6">
                <label for="inputState">Number of Tickets</label>
                <select id="inputState" class="form-control">
                  <option selected>Choose...</option>
                  <option>1</option>
                  <option>2</option>
                  <option>3</option>
                  <option>4</option>
                  <option>5</option>
                </select>
              </div>
              
            </div>
            <div class="form-group">
             <div class="form-check">
                <input class="form-check-input" type="checkbox" id="gridCheck">
                <label class="form-check-label" for="gridCheck">
                I  accept the terms and conditions of the Event Registration.
                </label>
              </div> 
            </div>
            <button type="submit"  onClick="myFunction()" class="btn btn-success">Book Now</button>
          </form>
          <!-- form ends here-->
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
        </div>
      </div>
      
    </div>
  </div>
  
</div>

<!-- <div class="jumbotron">
  <h1 class="display-4">InfiniteEvents</h1>
  <p class="lead">This is our app</p>
  <hr class="my-4">
  <p></p>
  <p class="lead">
    <a class="btn btn-success btn-lg" href="https://dappradar.com/" role="button">Learn more</a>
  </p>
</div>
<% if(name) { %>
  <div class="container">
    <div class="card">
      <div class="card-header">
        Hello
      </div>
      <div class="card-body">
        <h5 class="card-title">Hi there <%= name %> thanks for joining us today! </h5>
        <h5 class="card-title">What would you like to purchase today?</h5>
      </div>
    </div>
</div>
<% } %> 

<div class="container">
  <form action="/" method="post">
    <div class="form-group">
      <label for="name">Enter Your Name</label>
      <input type="text" class="form-control" name="name" placeholder="Enter Your Name">
    </div>
    <button type="submit" class="btn btn-success">Submit</button>
  </form>
</div> -->

<script> // the below script code is convention in web3 in forming the communication with Web
 
  let account;
  const connectMetamask = async () => {
      if (window.ethereum !== "undefined") {
          const accounts = await ethereum.request({ method: "eth_requestAccounts" });
          account = accounts[0];
          document.getElementById("userArea").innerHTML = `User Account: ${account}`;
      }
  }

  const connectContract = async () => {
      const ABI = [
      {
          "inputs": [],
          "name": "deposit",
          "outputs": [],
          "stateMutability": "payable",
          "type": "function"
      },
      {
          "inputs": [
              {
                  "internalType": "address payable",
                  "name": "_to",
                  "type": "address"
              },
              {
                  "internalType": "uint256",
                  "name": "_amount",
                  "type": "uint256"
              }
          ],
          "name": "withdraw",
          "outputs": [],
          "stateMutability": "nonpayable",
          "type": "function"
      },
      {
          "inputs": [],
          "name": "getAddress",
          "outputs": [
              {
                  "internalType": "address",
                  "name": "",
                  "type": "address"
              }
          ],
          "stateMutability": "view",
          "type": "function"
      },
      {
          "inputs": [],
          "name": "getBalance",
          "outputs": [
              {
                  "internalType": "uint256",
                  "name": "",
                  "type": "uint256"
              }
          ],
          "stateMutability": "view",
          "type": "function"
      }
  ] ;
      const Address = "0xFA607A7B085dEb45937D382dc9EE789237c0527a"; // Taking Address from Remix
      window.web3 = await new Web3(window.ethereum);
      window.contract = await new window.web3.eth.Contract(ABI, Address);
      document.getElementById("contractArea").innerHTML = "Connected to Contract"; // calling the elementID above
  }

  const getContractAccount = async () => {
      const data = await window.contract.methods.getAddress().call();
      document.getElementById("contractAccount").innerHTML = `Contract Account: ${data}`;
  }

  const getBalanceApple = async () => { // const getBalanceApple is the HTML function & .contract.getBalance is the smart contract function
      const data = await window.contract.methods.getBalance().call();
      document.getElementById("balanceArea").innerHTML = `Contract Balance: ${data}`;
  }

  const depositContract = async () => {
      const amount = document.getElementById("depositInput").value;
      await window.contract.methods.deposit().send({ from: account, value: amount });
  }

  const withdraw = async () => {
      const amount = document.getElementById("amountInput").value;
      const address = document.getElementById("addressInput").value;
      await window.contract.methods.withdraw(address, amount).send({ from: account });
  }

</script>


<!-- modal js-->
<script>
  $(document).ready(function () {
    $("#myModal").modal('show');
  });
</script>



<%- include partials/footer.ejs %>